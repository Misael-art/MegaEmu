/** * @file main.c * @brief Ponto de entrada principal do emulador Mega_Emu */#include <stdio.h>#include <stdlib.h>#include <stdbool.h>// Definir SDL_MAIN_HANDLED antes de incluir SDL.h#define SDL_MAIN_HANDLED#include <SDL2/SDL.h>#include "utils/error_handling.h"#include "utils/enhanced_log.h"#include "frontend/sdl/nes_window.h"#define MAX_PATH_LENGTH 512int main(int argc, char *argv[]){    /* Configurar logging */    emu_log_config_t log_config = {        .level = EMU_LOG_LEVEL_INFO,        .output = stdout,        .flags = EMU_LOG_FLAG_USE_TIMESTAMP | EMU_LOG_FLAG_USE_LEVEL | EMU_LOG_FLAG_USE_CATEGORY};    if (!emu_log_init(&log_config))    {        fprintf(stderr, "Erro ao inicializar sistema de log\n");        return EXIT_FAILURE;    }    /* Inicializar sistema de erros */    emu_error_init();    /* Verificar argumentos */    if (argc < 2)    {        EMU_LOG_ERROR(EMU_LOG_CAT_CORE, "Uso: %s <caminho_da_rom>", argv[0]);        EMU_LOG_ERROR(EMU_LOG_CAT_CORE, "Exemplo: %s roms/nes/super_mario_bros.nes", argv[0]);        emu_error_shutdown();        emu_log_shutdown();        return EXIT_FAILURE;    }    /* Executar o emulador */    int result = run_nes_emulator(argv[1]);    /* Limpar recursos */    emu_error_shutdown();    emu_log_shutdown();    return result == 0 ? EXIT_SUCCESS : EXIT_FAILURE;}
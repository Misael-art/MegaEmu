#include "render/shader_preview.h"#include "core/memory.h"#include "core/render_system.h"static ShaderPreview* preview = NULL;void shader_preview_init(void) {    preview = mem_alloc(sizeof(ShaderPreview));    preview->target = render_create_target(512, 512);    preview->viewport = (Rectangle){0, 0, 512, 512};    preview->update_rate = 1.0f/60.0f;    preview->auto_refresh = true;        preview->shader_data.current = NULL;    preview->shader_data.uniforms = NULL;    preview->shader_data.uniform_count = 0;}void shader_preview_update(float delta) {    if (!preview->auto_refresh) return;        render_begin_target(preview->target);    render_clear(COLOR_BLACK);        if (preview->shader_data.current) {        render_apply_shader(preview->shader_data.current);        render_update_uniforms(preview->shader_data.uniforms,                             preview->shader_data.uniform_count);        render_quad(preview->viewport);    }        render_end_target();}
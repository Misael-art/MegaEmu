#include <stdint.h>/** * @file nes_visualizer.hpp * @brief Visualizador para o emulador de NES usando SDL2 * @author Mega_Emu Team * @version 1.0.0 * @date 2024-03-13 */#pragma once#include <memory>#include <string>#include <SDL.h>#include "../../platforms/nes/nes.hpp"namespace MegaEmu{    namespace Tools    {        /**         * @class NESVisualizer         * @brief Ferramenta para visualização da saída do emulador de NES         */        class NESVisualizer        {        public:            /**             * @brief Construtor             */            NESVisualizer();            /**             * @brief Destrutor             */            ~NESVisualizer();            /**             * @brief Inicializa o visualizador             * @param windowTitle Título da janela             * @param scale Fator de escala para a janela             * @return true se a inicialização foi bem-sucedida             */            bool initialize(const std::string &windowTitle, int32_t scale = 3);            /**             * @brief Carrega uma ROM             * @param filename Caminho para o arquivo ROM             * @return true se o carregamento foi bem-sucedido             */            bool loadROM(const std::string &filename);            /**             * @brief Executa o loop principal             */            void run();            /**             * @brief Tira um screenshot             * @param filename Nome do arquivo para salvar (sem extensão)             * @return true se o screenshot foi salvo com sucesso             */            bool takeScreenshot(const std::string &filename);            /**             * @brief Fecha o visualizador             */            void shutdown();        private:            /**             * @brief Processa eventos do SDL             * @return true se deve continuar executando, false para sair             */            bool processEvents();            /**             * @brief Renderiza um frame             */            void render();            /**             * @brief Atualiza o estado da emulação             */            void update();            /**             * @brief Mapeia teclas para o controle             * @param keyStates Estados das teclas (SDL)             */            void updateControllerState(const uint8_t *keyStates);        private:            // Emulador NES            std::unique_ptr<Platforms::NES> m_nes;            // Componentes SDL            SDL_Window *m_window;            SDL_Renderer *m_renderer;            SDL_Texture *m_texture;            // Configurações            int32_t m_scale;            int32_t m_screenWidth;            int32_t m_screenHeight;            bool m_isRunning;            // Estado do controle            Core::ControllerState m_controllerState;        };    } // namespace Tools} // namespace MegaEmu